############################################################################
############################################################################
GEN_DATA_SCALE: 3000
RANDOM_DISTRIBUTION: false
MULTI_USER_COUNT: 5
RUN_COMPILE_TPCDS: true
RUN_GEN_DATA: true
GEN_NEW_DATA: true
RUN_INIT: true
RUN_DDL: true
RUN_LOAD: true
RUN_SQL: true
SINGLE_USER_ITERATIONS: 1
RUN_SINGLE_USER_REPORTS: true
RUN_MULTI_USER: true
RUN_MULTI_USER_REPORTS: true
BENCH_ROLE: dsbench
GPFDIST_LOCATION: p
############################################################################
Run /data/poc/TPC-DS/00_compile_tpcds/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : compile_tpcds
TIMESTAMP ..... : 2024. 04. 08. (월) 23:45:15 KST
----------------------------------------------------------------------
./mkheader column_list.txt
./distcomp -i tpcds.dst -o tpcds.idx
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : compile_tpcds
TIMESTAMP ..... : 2024. 04. 08. (월) 23:45:18 KST
ELAPSED TIME .. : 00h:00m:03s
######################################################################
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : gen_data
TIMESTAMP ..... : 2024. 04. 08. (월) 23:45:18 KST
----------------------------------------------------------------------
kill any orphaned dsdgen processes on segment hosts
parallel:  64
Generate queries based on scale
 Creating: /data/poc/TPC-DS/05_sql/101.dsbench.01.sql
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : gen_data
TIMESTAMP ..... : 2024. 04. 09. (화) 00:13:49 KST
ELAPSED TIME .. : 00h:28m:31s
######################################################################
Run /data/poc/TPC-DS/02_init/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : init
TIMESTAMP ..... : 2024. 04. 09. (화) 00:13:49 KST
----------------------------------------------------------------------
changing gp_autostats_mode to none
20240409:00:13:51:2467412 gpconfig:smc4mdw:gpadmin-[INFO]:-completed successfully with parameters '-c gp_autostats_mode -v none --masteronly'
update cluster because of config changes
20240409:00:13:51:2467512 gpstop:smc4mdw:gpadmin-[INFO]:-Starting gpstop with args: -u
20240409:00:13:51:2467512 gpstop:smc4mdw:gpadmin-[INFO]:-Gathering information and validating the environment...
20240409:00:13:51:2467512 gpstop:smc4mdw:gpadmin-[INFO]:-Obtaining Greenplum Master catalog information
20240409:00:13:51:2467512 gpstop:smc4mdw:gpadmin-[INFO]:-Obtaining Segment details from master...
20240409:00:13:51:2467512 gpstop:smc4mdw:gpadmin-[INFO]:-Greenplum Version: 'postgres (Greenplum Database) 6.25.3 build commit:367edc6b4dfd909fe38fc288ade9e294d74e3f9a'
20240409:00:13:51:2467512 gpstop:smc4mdw:gpadmin-[INFO]:-Signalling all postmaster processes to reload
...
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : init
TIMESTAMP ..... : 2024. 04. 09. (화) 00:13:55 KST
ELAPSED TIME .. : 00h:00m:06s
######################################################################
Run /data/poc/TPC-DS/03_ddl/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : ddl
TIMESTAMP ..... : 2024. 04. 09. (화) 00:13:55 KST
----------------------------------------------------------------------
;
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : ddl
TIMESTAMP ..... : 2024. 04. 09. (화) 00:14:07 KST
ELAPSED TIME .. : 00h:00m:12s
######################################################################
Run /data/poc/TPC-DS/04_load/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : load
TIMESTAMP ..... : 2024. 04. 09. (화) 00:14:07 KST
----------------------------------------------------------------------
finished truncate ...
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : load
TIMESTAMP ..... : 2024. 04. 09. (화) 00:36:29 KST
ELAPSED TIME .. : 00h:22m:22s
######################################################################
Run /data/poc/TPC-DS/05_sql/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : sql
TIMESTAMP ..... : 2024. 04. 09. (화) 00:36:29 KST
----------------------------------------------------------------------
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : sql
TIMESTAMP ..... : 2024. 04. 09. (화) 01:55:16 KST
ELAPSED TIME .. : 01h:18m:47s
######################################################################
Run /data/poc/TPC-DS/06_single_user_reports/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : single_user_reports
TIMESTAMP ..... : 2024. 04. 09. (화) 01:55:16 KST
----------------------------------------------------------------------
********************************************************************************
Generate Data
********************************************************************************
time	value
Seconds	1711
Minutes	28.5166666666667
Hours	0.475277777777778
********************************************************************************
Data Loads
********************************************************************************
table_name	tuples	seconds
call_center	48	0
catalog_page	36000	1
catalog_returns	431979168	31
catalog_sales	4320024860	352
customer	30000000	1
customer_address	15000000	5
customer_demographics	1920800	0
household_demographics	7200	0
income_band	20	0
inventory	1033560000	17
item	360000	1
promotion	1800	0
reason	67	0
ship_mode	20	0
store	1350	0
store_returns	863994070	42
store_sales	8639977448	599
time_dim	86400	0
warehouse	22	1
web_page	3600	0
web_returns	216004538	11
web_sales	2160017309	177
web_site	66	0
********************************************************************************
Analyze
********************************************************************************
schema_name	seconds
gpdb	42
tpcds	90
********************************************************************************
Queries
********************************************************************************
id	tuples	duration
01	100	7
02	2513	75
03	100	4
04	100	210
05	100	30
06	52	1
07	100	6
08	10	3
09	1	65
10	100	8
11	100	117
12	100	1
13	1	11
14	200	114
15	100	2
16	1	65
17	100	21
18	100	13
19	100	2
20	100	2
21	100	1
22	100	4
23	101	880
24	4373	699
25	100	12
26	100	3
27	100	7
28	1	36
29	100	42
30	100	3
31	277	19
32	1	3
33	100	2
34	100	9
35	100	20
36	100	14
37	8	9
38	1	46
39	19873	6
40	100	4
41	95	0
42	13	2
43	100	14
44	0	16
45	100	3
46	100	16
47	100	39
48	1	9
49	100	5
50	100	29
51	100	45
52	100	1
53	100	5
54	100	3
55	100	2
56	100	2
57	100	23
58	74	1
59	100	105
60	100	4
61	1	4
62	100	13
63	100	5
64	100	67
65	100	113
66	22	6
67	100	507
68	100	7
69	0	1
70	76	25
71	100	3
72	100	127
73	795	5
74	100	82
75	0	39
76	100	17
77	100	4
78	100	215
79	100	22
80	100	11
81	100	5
82	16	15
83	100	1
84	100	2
85	66	6
86	100	8
87	1	48
88	1	54
89	100	6
90	1	6
91	48	1
92	1	2
93	100	38
94	1	24
95	1	229
96	1	17
97	1	64
98	53570	2
99	100	26
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : single_user_reports
TIMESTAMP ..... : 2024. 04. 09. (화) 01:55:16 KST
ELAPSED TIME .. : 00h:00m:00s
######################################################################
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : multi_user
TIMESTAMP ..... : 2024. 04. 09. (화) 01:55:16 KST
----------------------------------------------------------------------
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : multi_user
TIMESTAMP ..... : 2024. 04. 09. (화) 05:18:02 KST
ELAPSED TIME .. : 03h:22m:46s
######################################################################
Run /data/poc/TPC-DS/08_multi_user_reports/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : multi_user_reports
TIMESTAMP ..... : 2024. 04. 09. (화) 05:18:02 KST
----------------------------------------------------------------------
query_id	session_1	session_2	session_3	session_4	session_5	session_6	session_7	session_8	session_9	session_10
01	14	9	13	15	15	0	0	0	0	0
02	101	158	138	120	122	0	0	0	0	0
03	7	7	7	8	7	0	0	0	0	0
04	552	646	586	455	555	0	0	0	0	0
05	36	54	55	58	50	0	0	0	0	0
06	3	3	4	2	3	0	0	0	0	0
07	15	16	17	18	17	0	0	0	0	0
08	7	7	6	6	6	0	0	0	0	0
09	201	195	163	157	192	0	0	0	0	0
10	18	18	19	15	19	0	0	0	0	0
11	288	284	297	326	278	0	0	0	0	0
12	2	2	2	3	3	0	0	0	0	0
13	22	19	15	19	21	0	0	0	0	0
14	418	433	412	377	454	0	0	0	0	0
15	9	7	6	7	6	0	0	0	0	0
16	149	123	91	148	162	0	0	0	0	0
17	39	46	43	50	46	0	0	0	0	0
18	26	24	14	17	16	0	0	0	0	0
19	4	7	6	8	6	0	0	0	0	0
20	3	3	3	3	2	0	0	0	0	0
21	1	1	1	1	1	0	0	0	0	0
22	10	12	8	10	11	0	0	0	0	0
23	2460	2308	2557	2431	2448	0	0	0	0	0
24	2027	1889	2182	2182	1935	0	0	0	0	0
25	23	25	25	20	23	0	0	0	0	0
26	7	7	10	9	9	0	0	0	0	0
27	16	12	15	13	15	0	0	0	0	0
28	121	128	115	124	124	0	0	0	0	0
29	95	96	91	78	90	0	0	0	0	0
30	6	6	5	5	7	0	0	0	0	0
31	42	48	45	53	49	0	0	0	0	0
32	8	6	6	7	5	0	0	0	0	0
33	6	8	5	5	7	0	0	0	0	0
34	18	22	17	18	15	0	0	0	0	0
35	50	53	61	50	56	0	0	0	0	0
36	34	26	25	29	29	0	0	0	0	0
37	17	16	17	16	15	0	0	0	0	0
38	161	186	161	150	185	0	0	0	0	0
39	11	10	10	8	12	0	0	0	0	0
40	8	7	8	8	8	0	0	0	0	0
41	1	1	0	0	0	0	0	0	0	0
42	2	2	3	3	2	0	0	0	0	0
43	29	28	23	26	23	0	0	0	0	0
44	34	46	47	70	46	0	0	0	0	0
45	6	6	6	5	6	0	0	0	0	0
46	37	38	43	38	39	0	0	0	0	0
47	78	77	68	82	83	0	0	0	0	0
48	20	25	21	17	23	0	0	0	0	0
49	11	12	9	6	10	0	0	0	0	0
50	60	67	67	65	56	0	0	0	0	0
51	123	125	124	133	133	0	0	0	0	0
52	3	2	2	2	3	0	0	0	0	0
53	9	11	7	9	9	0	0	0	0	0
54	5	5	4	4	4	0	0	0	0	0
55	3	2	2	3	3	0	0	0	0	0
56	4	4	4	4	5	0	0	0	0	0
57	52	53	44	58	51	0	0	0	0	0
58	3	3	2	3	3	0	0	0	0	0
59	192	200	175	186	188	0	0	0	0	0
60	12	11	10	13	10	0	0	0	0	0
61	7	4	13	6	8	0	0	0	0	0
62	19	22	26	27	24	0	0	0	0	0
63	11	9	10	11	10	0	0	0	0	0
64	137	153	158	117	118	0	0	0	0	0
65	251	254	242	273	252	0	0	0	0	0
66	12	13	8	10	11	0	0	0	0	0
67	1304	1258	1203	1277	1261	0	0	0	0	0
68	11	12	14	14	14	0	0	0	0	0
69	1	12	1	1	15	0	0	0	0	0
70	58	42	51	47	48	0	0	0	0	0
71	6	6	5	6	6	0	0	0	0	0
72	318	272	269	307	297	0	0	0	0	0
73	11	9	10	10	12	0	0	0	0	0
74	225	266	262	283	237	0	0	0	0	0
75	102	102	117	111	114	0	0	0	0	0
76	18	42	39	28	40	0	0	0	0	0
77	8	8	6	5	14	0	0	0	0	0
78	514	494	468	498	494	0	0	0	0	0
79	58	41	61	79	60	0	0	0	0	0
80	24	26	22	26	23	0	0	0	0	0
81	11	11	12	13	9	0	0	0	0	0
82	26	25	30	31	27	0	0	0	0	0
83	2	2	2	2	2	0	0	0	0	0
84	6	5	10	4	15	0	0	0	0	0
85	16	11	10	9	13	0	0	0	0	0
86	15	15	14	48	14	0	0	0	0	0
87	188	152	135	152	177	0	0	0	0	0
88	173	173	162	76	175	0	0	0	0	0
89	14	12	13	12	17	0	0	0	0	0
90	14	15	11	13	16	0	0	0	0	0
91	1	1	0	1	1	0	0	0	0	0
92	4	4	4	4	4	0	0	0	0	0
93	72	85	0	76	79	0	0	0	0	0
94	63	87	57	64	67	0	0	0	0	0
95	452	453	446	442	385	0	0	0	0	0
96	34	31	40	34	27	0	0	0	0	0
97	152	160	154	150	138	0	0	0	0	0
98	3	3	4	2	4	0	0	0	0	0
99	36	44	37	47	50	0	0	0	0	0
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : multi_user_reports
TIMESTAMP ..... : 2024. 04. 09. (화) 05:18:02 KST
ELAPSED TIME .. : 00h:00m:00s
######################################################################
Run /data/poc/TPC-DS/09_score/rollout.sh
######################################################################
                                START
----------------------------------------------------------------------
STEP .......... : score
TIMESTAMP ..... : 2024. 04. 09. (화) 05:18:03 KST
----------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
 BINDIR = /usr/local/greenplum-db-6.25.3/bin
DOCDIR = /usr/local/greenplum-db-6.25.3/share/doc/postgresql
HTMLDIR = /usr/local/greenplum-db-6.25.3/share/doc/postgresql
INCLUDEDIR = /usr/local/greenplum-db-6.25.3/include
PKGINCLUDEDIR = /usr/local/greenplum-db-6.25.3/include/postgresql
INCLUDEDIR-SERVER = /usr/local/greenplum-db-6.25.3/include/postgresql/server
LIBDIR = /usr/local/greenplum-db-6.25.3/lib
PKGLIBDIR = /usr/local/greenplum-db-6.25.3/lib/postgresql
LOCALEDIR = /usr/local/greenplum-db-6.25.3/share/locale
MANDIR = /usr/local/greenplum-db-6.25.3/man
SHAREDIR = /usr/local/greenplum-db-6.25.3/share/postgresql
SYSCONFDIR = /usr/local/greenplum-db-6.25.3/etc/postgresql
PGXS = /usr/local/greenplum-db-6.25.3/lib/postgresql/pgxs/src/makefiles/pgxs.mk
VERSION = PostgreSQL 9.4.26
--------------------------------------------------------------------------------
Number of Streams (Sq)	5
Scale Factor (SF)	3000
Load (seconds)			1238
Analyze (seconds)			132
1 User Queries (seconds)		4727
Sum of Elapse Time for all Concurrent Queries (seconds)	60194
Throughput Test Elapsed Time (seconds)	12096
--------------------------------------------------------------------------------
TPC-DS v1.3.1 (QphDS@SF = floor(SF * Q / sum(TPT, TTT, TLD)))
Q (3 * Sq * 99)		1485
TPT (seconds)		23635
TTT (seconds)		120388
TLD (seconds)		61
Score			30
--------------------------------------------------------------------------------
TPC-DS v2.2.0 (QphDS@SF = floor(SF * Q / geomean(TPT, TTT, TLD)))
Q (Sq * 99)		495
TPT (hours)		6.565
TTT (hours)		6.720
TLD (hours)		0.017
Score			1628256
--------------------------------------------------------------------------------
----------------------------------------------------------------------
                               FINISHED
----------------------------------------------------------------------
STEP .......... : score
TIMESTAMP ..... : 2024. 04. 09. (화) 05:18:03 KST
ELAPSED TIME .. : 00h:00m:01s
######################################################################
